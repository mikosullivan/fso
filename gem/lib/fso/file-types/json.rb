require 'forwardable'
require 'json'

#===============================================================================
# FSO::File::JSON
#
class FSO::File::JSON < FSO::File
	#---------------------------------------------------------------------------
	# parse
	#
	def parse
		require 'json'
		return ::JSON.parse(read)
	end
	#
	# parse
	#---------------------------------------------------------------------------
	
	
	#---------------------------------------------------------------------------
	# save
	#
	def save
		# TTM.hrm
		write json.to_json
	end
	#
	# save
	#---------------------------------------------------------------------------
	
	
	#---------------------------------------------------------------------------
	# json
	#
	def json
		if not instance_variable_defined?(:@json)
			if exist?
				@json = parse()
			else
				@json = {}
			end
		end
		
		return @json
	end
	#
	# json
	#---------------------------------------------------------------------------
end
#
# FSO::File::Zip
#===============================================================================